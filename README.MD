Исходное задание
================
```php
<?php
$input = '((100 EUR + 20.5 USD) * 10 - 30 RUB) / 2'; //example
$currencies = ['RUB', 'EUR', 'USD'];
$rates = ['*1', '*90', '*75'];
$expression = str_replace($currencies, $rates, $input);
eval('$output = '.$expression.';');
echo $output; //52672.5 (RUB)
```
У вас есть пример говнокод-калькулятора, принимающего на вход любую строку арифметического расчета денежных единиц в различных валютах и возвращающую результат в одной конкретной (например, в рублях).
Обоснуйте, почему этот код не подходит для использования в продакшне.

Попробуйте переделать данный код на микросервис адекватного на ваш взгляд качества.
Результат выполненного задания рекомендуется выложить на github и прислать ссылку на репозиторий.

Ответ
=====
Основной ошибкой в этом коде является то, что используется небезопасная функция eval().
Использование этой функции может привести к инъекции вредоносного кода. Для предотвращения этого нужно хотя бы сделать защиту от использования во входной строке каких-либо php-функций.
Я, например, отрезал регулярным выражением все, кроме того, что можно использовать (регулярка получилась не очень красивой, можно улучшить при желании).

Вообще, конечно по-хорошему надо избегать использования eval() вообще. Можно, например, написать простой лексический анализатор для разбора вхоодной строки и впоследствии выполнять операции по отдельности обычными средствами языка.

Инструкция по применению
========================
Склонировать репозиторий и запустить под управлением web-сервера
Запрос делать вида:
```
http://domain/?input={входная строка}
```
(во входной строке при запросе из браузера придется заменить все недопустимые символы на их коды. Например, ((100%20EUR%20%2B%2020.5%20USD)%20*%2010%20-%2030%20RUB)%20/%202)